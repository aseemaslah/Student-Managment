<div class="d-flex">

  <!-- Sidebar -->
  <app-adminsidebar></app-adminsidebar>

  <!-- Main -->
  <div class="flex-grow-1 p-4 bg-light">

    <!-- Top Bar -->
    <div class="top-bar">
      <div class="title">
        <h3>Teachers</h3>
        <p>All registered teachers</p>
      </div>
    </div>

    <!-- Teacher Table -->
    <div class="card p-4 border-0 rounded-4 shadow-sm">

      @if (loading) {
        <div class="text-center p-4">
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-2">Loading teachers...</p>
        </div>
      }

      @if (error) {
        <div class="alert alert-danger">
          {{ error }}
        </div>
      }

      @if (!loading && !error) {
        <table class="table table-hover align-middle">
          <thead>
            <tr>
              <th>Username</th>
              <th>Status</th>
              <th class="text-end">Actions</th>
            </tr>
          </thead>

          <tbody>
            @for (teacher of teachers; track teacher._id) {
              <tr>
                <td>{{ teacher.username }}</td>

                <td>
                  <span class="badge bg-success">Active</span>
                </td>

                <td class="text-end">
                  <button
                    class="btn btn-sm btn-outline-primary me-2"
                    (click)="updateTeacher(teacher)"
                  >
                    Edit
                  </button>

                  <button
                    class="btn btn-sm btn-outline-danger"
                    (click)="deleteTeacher(teacher._id)"
                  >
                    Delete
                  </button>
                </td>
              </tr>
            }

            @if (teachers.length === 0) {
              <tr>
                <td colspan="3" class="text-center">
                  No teachers found
                </td>
              </tr>
            }
          </tbody>
        </table>
      }

    </div>

  </div>

</div>
